# README å›½é™…åŒ–è§„èŒƒä¼˜åŒ–è®¡åˆ’

## å½“å‰ README è¯„ä¼°

### âœ… å·²ç¬¦åˆå›½é™…è§„èŒƒçš„éƒ¨åˆ†

1. **é¡¹ç›®æ ‡é¢˜å’Œæè¿°** âœ…
   - æ¸…æ™°çš„æ ‡é¢˜ï¼šAI Responsibility Gate
   - What & Why ç« èŠ‚è¯´æ˜é¡¹ç›®ä»·å€¼

2. **å¿«é€Ÿå¼€å§‹ï¼ˆQuickstartï¼‰** âœ…
   - å®‰è£…æ­¥éª¤
   - å¯åŠ¨å‘½ä»¤
   - æµ‹è¯•å‘½ä»¤
   - cURL ç¤ºä¾‹

3. **æ¶æ„è¯´æ˜** âœ…
   - è¯¦ç»†çš„æ¶æ„æµç¨‹å›¾
   - Evidence Providers è¯´æ˜

4. **é…ç½®è¯´æ˜** âœ…
   - Matrix é…ç½®
   - Risk Rules é…ç½®
   - Tool Catalog é…ç½®

5. **æ¡ˆä¾‹åº“** âœ…
   - è¯¦ç»†çš„ Case å¡ç‰‡æ ¼å¼
   - å¯å›æ”¾çš„æ¡ˆä¾‹

6. **Roadmap** âœ…
   - PoC â†’ MVP â†’ Production è·¯çº¿å›¾

7. **æ‰©å±•æ€§è¯´æ˜** âœ…
   - å¦‚ä½•æ–°å¢ Evidence Provider
   - å¦‚ä½•æ¥å…¥ LLM Classifier

8. **éªŒæ”¶ä¸è‡ªæ£€** âœ…
   - å†³ç­–æƒé›†ä¸­æ€§æ‰«æ
   - åŠŸèƒ½éªŒæ”¶å‘½ä»¤

### âŒ ç¼ºå¤±çš„å›½é™…è§„èŒƒéƒ¨åˆ†

1. **ç›®å½•ï¼ˆTable of Contentsï¼‰** âŒ
   - ç¼ºå°‘å¯¼èˆªç›®å½•ï¼Œé•¿æ–‡æ¡£éš¾ä»¥æµè§ˆ

2. **ç‰¹æ€§åˆ—è¡¨ï¼ˆFeaturesï¼‰** âŒ
   - ç¼ºå°‘æ¸…æ™°çš„åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨

3. **å¾½ç« ï¼ˆBadgesï¼‰** âŒ
   - ç¼ºå°‘é¡¹ç›®çŠ¶æ€ã€ç‰ˆæœ¬ã€æµ‹è¯•è¦†ç›–ç‡ç­‰å¾½ç« 

4. **è´¡çŒ®æŒ‡å—ï¼ˆContributingï¼‰** âŒ
   - ç¼ºå°‘å¦‚ä½•è´¡çŒ®ä»£ç çš„æŒ‡å—

5. **å®Œæ•´çš„ API æ–‡æ¡£** âš ï¸
   - åªæœ‰ Feedback APIï¼Œç¼ºå°‘å®Œæ•´çš„ `/decision` API æ–‡æ¡£

6. **ä¾èµ–è¯´æ˜** âš ï¸
   - requirements.txt å­˜åœ¨ï¼Œä½† README ä¸­ç¼ºå°‘ä¾èµ–ç‰ˆæœ¬è¯´æ˜

7. **æ•…éšœæ’æŸ¥ï¼ˆTroubleshootingï¼‰** âŒ
   - ç¼ºå°‘å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

8. **é¡¹ç›®çŠ¶æ€/ç‰ˆæœ¬ä¿¡æ¯** âŒ
   - ç¼ºå°‘ç‰ˆæœ¬å·ã€é¡¹ç›®çŠ¶æ€ï¼ˆPoC/MVP/Productionï¼‰

9. **è‹±æ–‡ç‰ˆæœ¬** âš ï¸
   - å½“å‰ä¸ºä¸­æ–‡ï¼Œå›½é™…åŒ–é¡¹ç›®é€šå¸¸éœ€è¦è‹±æ–‡ç‰ˆæœ¬

10. **ä»£ç ç¤ºä¾‹çš„è¯­è¨€æ ‡è¯†** âš ï¸
    - éƒ¨åˆ†ä»£ç å—ç¼ºå°‘è¯­è¨€æ ‡è¯†

## ä¼˜åŒ–å»ºè®®

### ä¼˜å…ˆçº§ P0ï¼ˆå¿…é¡»æ·»åŠ ï¼‰

1. **æ·»åŠ ç›®å½•ï¼ˆTable of Contentsï¼‰**
   - åœ¨ README å¼€å¤´æ·»åŠ å®Œæ•´çš„ç›®å½•å¯¼èˆª
   - ä½¿ç”¨ Markdown é”šç‚¹é“¾æ¥

2. **æ·»åŠ ç‰¹æ€§åˆ—è¡¨ï¼ˆFeaturesï¼‰**
   - åœ¨ What & Why ä¹‹åæ·»åŠ  Features ç« èŠ‚
   - åˆ—å‡ºæ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

3. **å®Œå–„ API æ–‡æ¡£**
   - æ·»åŠ å®Œæ•´çš„ `/decision` API æ–‡æ¡£
   - åŒ…å«è¯·æ±‚/å“åº”æ ¼å¼ã€çŠ¶æ€ç ã€é”™è¯¯å¤„ç†

### ä¼˜å…ˆçº§ P1ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰

4. **æ·»åŠ è´¡çŒ®æŒ‡å—ï¼ˆContributingï¼‰**
   - è¯´æ˜å¦‚ä½•æäº¤ PR
   - ä»£ç é£æ ¼è¦æ±‚
   - æµ‹è¯•è¦æ±‚

5. **æ·»åŠ æ•…éšœæ’æŸ¥ï¼ˆTroubleshootingï¼‰**
   - å¸¸è§é—®é¢˜ï¼ˆå¦‚é…ç½®è·¯å¾„é”™è¯¯ã€çŸ©é˜µåŠ è½½å¤±è´¥ç­‰ï¼‰
   - è§£å†³æ–¹æ¡ˆ

6. **æ·»åŠ é¡¹ç›®çŠ¶æ€ä¿¡æ¯**
   - åœ¨æ ‡é¢˜ä¸‹æ–¹æ·»åŠ ç‰ˆæœ¬å·å’ŒçŠ¶æ€å¾½ç« 
   - è¯´æ˜å½“å‰æ˜¯ PoC é˜¶æ®µ

### ä¼˜å…ˆçº§ P2ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰

7. **æ·»åŠ å¾½ç« ï¼ˆBadgesï¼‰**
   - Python ç‰ˆæœ¬
   - æµ‹è¯•çŠ¶æ€
   - è®¸å¯è¯

8. **æ·»åŠ ä¾èµ–è¯´æ˜**
   - åœ¨ Quickstart ä¹‹å‰æ·»åŠ  Requirements ç« èŠ‚
   - è¯´æ˜ Python ç‰ˆæœ¬è¦æ±‚

9. **ä»£ç ç¤ºä¾‹ä¼˜åŒ–**
   - ä¸ºæ‰€æœ‰ä»£ç å—æ·»åŠ è¯­è¨€æ ‡è¯†
   - ç»Ÿä¸€ä»£ç æ ¼å¼

10. **è€ƒè™‘è‹±æ–‡ç‰ˆæœ¬**
    - åˆ›å»º README_EN.md æˆ–ä½¿ç”¨åŒè¯­ README

## å…·ä½“ä¼˜åŒ–æ–¹æ¡ˆ

### 1. æ·»åŠ ç›®å½•

åœ¨ README å¼€å¤´ï¼ˆWhat & Why ä¹‹å‰ï¼‰æ·»åŠ ï¼š

```markdown
## Table of Contents

- [What & Why](#what--why)
- [Hard Constraints](#hard-constraints-ä¸‰æ¡é“å¾‹)
- [Architecture](#architecture)
- [Features](#features)
- [Quickstart](#quickstart)
- [Case Library](#æ¡ˆä¾‹åº“case-library)
- [API Documentation](#api-documentation)
- [Policy Configuration](#policy-é…ç½®è¯´æ˜)
- [Roadmap](#roadmap-poc--mvp--production)
- [Extensibility](#extensibility)
- [Contributing](#contributing)
- [Troubleshooting](#troubleshooting)
- [License](#license)
```

### 2. æ·»åŠ  Features ç« èŠ‚

åœ¨ What & Why ä¹‹åæ·»åŠ ï¼š

```markdown
## Features

- ğŸ¯ **Decision Centralization** - Single source of truth for all decisions
- ğŸ” **Evidence-Based** - Multi-dimensional evidence collection (risk, permission, knowledge, routing, tool)
- ğŸ”’ **Fail-Closed** - Default deny when evidence is missing or ambiguous
- âš™ï¸ **YAML-Driven** - Policy configuration without code changes
- ğŸ”„ **Replay & Diff** - Reproducible decision verification
- ğŸ“Š **Audit Trail** - Verbose mode for complete decision trace
- ğŸš€ **Extensible** - Easy to add new evidence providers
- âš¡ **Concurrent** - Async evidence collection with timeout (80ms)
```

### 3. å®Œå–„ API æ–‡æ¡£

æ·»åŠ å®Œæ•´çš„ API æ–‡æ¡£ç« èŠ‚ï¼š

```markdown
## API Documentation

### POST /decision

Make a decision on whether AI can answer the user's request.

**Request:**
```json
{
  "text": "è¿™ä¸ªäº§å“æ”¶ç›Šç‡å¤šå°‘ï¼Ÿ",
  "session_id": "optional",
  "user_id": "optional",
  "context": {"optional": "fields"},
  "debug": false,
  "verbose": false
}
```

**Response:**
```json
{
  "request_id": "uuid",
  "decision": "ONLY_SUGGEST",
  "responsibility_type": "Information",
  "primary_reason": "DEFAULT_DECISION",
  "suggested_action": "handoff",
  "explanation": {...},
  "policy": {...},
  "latency_ms": 45
}
```

**Status Codes:**
- 200: Success
- 400: Invalid request (e.g., empty text)
- 500: System configuration error (e.g., matrix file not found)
```

### 4. æ·»åŠ  Contributing ç« èŠ‚

```markdown
## Contributing

We welcome contributions! Please follow these guidelines:

1. **Fork the repository**
2. **Create a feature branch** (`git checkout -b feature/amazing-feature`)
3. **Follow code style**
   - Use type hints
   - Follow PEP 8
   - Add docstrings
4. **Add tests** for new features
5. **Ensure all tests pass** (`make test`)
6. **Ensure replay accuracy** remains 100% (`make replay`)
7. **Commit changes** (`git commit -m 'Add amazing feature'`)
8. **Push to branch** (`git push origin feature/amazing-feature`)
9. **Open a Pull Request**

**Important:** All changes must maintain the three hard constraints:
- Decision centralization
- Evidence-based (no decision leakage)
- Fail-closed principle
```

### 5. æ·»åŠ  Troubleshooting ç« èŠ‚

```markdown
## Troubleshooting

### Matrix file not found

**Error:** `System configuration error: Matrix file not found`

**Solution:** Ensure matrix files exist in `matrices/` directory. Check file paths in `src/core/config.py`.

### Configuration path errors

**Error:** `Config file not found`

**Solution:** Ensure you're running from project root directory, or set environment variables:
- `AI_RESPONSIBILITY_GATE_CONFIG_DIR`
- `AI_RESPONSIBILITY_GATE_MATRICES_DIR`

### Tests fail with import errors

**Error:** `ImportError: cannot import name 'X'`

**Solution:** Ensure you're running tests with `PYTHONPATH=.` or use `make test`.
```

## ä¼˜åŒ–åçš„ README ç»“æ„å»ºè®®

```markdown
# AI Responsibility Gate

[Badges: Python 3.10+, PoC Status, MIT License]

## Table of Contents
[...]

## What & Why
[...]

## Features
[...]

## Hard Constraints (ä¸‰æ¡é“å¾‹)
[...]

## Architecture
[...]

## Quickstart
[...]

## Requirements
- Python 3.10+
- See `requirements.txt` for dependencies

## Case Library
[...]

## API Documentation
[...]

## Policy Configuration
[...]

## Roadmap
[...]

## Extensibility
[...]

## Contributing
[...]

## Troubleshooting
[...]

## License
MIT License
```

## æ€»ç»“

å½“å‰ README åœ¨**å†…å®¹å®Œæ•´æ€§**æ–¹é¢åšå¾—å¾ˆå¥½ï¼Œä½†åœ¨**å›½é™…åŒ–è§„èŒƒ**æ–¹é¢è¿˜æœ‰æ”¹è¿›ç©ºé—´ï¼š

**ä¼˜åŠ¿ï¼š**
- âœ… å†…å®¹è¯¦ç»†ã€å¯å¤ç°
- âœ… æ¶æ„è¯´æ˜æ¸…æ™°
- âœ… æ¡ˆä¾‹åº“å®Œæ•´

**éœ€è¦æ”¹è¿›ï¼š**
- âŒ ç¼ºå°‘ç›®å½•å¯¼èˆª
- âŒ ç¼ºå°‘ç‰¹æ€§åˆ—è¡¨
- âŒ ç¼ºå°‘è´¡çŒ®æŒ‡å—
- âš ï¸ API æ–‡æ¡£ä¸å®Œæ•´
- âŒ ç¼ºå°‘æ•…éšœæ’æŸ¥

**å»ºè®®ä¼˜å…ˆçº§ï¼š**
1. P0: æ·»åŠ ç›®å½•ã€ç‰¹æ€§åˆ—è¡¨ã€å®Œå–„ API æ–‡æ¡£
2. P1: æ·»åŠ è´¡çŒ®æŒ‡å—ã€æ•…éšœæ’æŸ¥
3. P2: æ·»åŠ å¾½ç« ã€è€ƒè™‘è‹±æ–‡ç‰ˆæœ¬
